<!DOCTYPE html>

<html lang="it">
<head>
<link href="assets/img/common/plane-logo.png" rel="icon" type="image/png"/>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Area affiliati – Programma affiliato Travirae</title>
<meta name="description" content="Accedi all'Area Affiliati Travirae per gestire il tuo Affiliate ID, generare link tracciati e monitorare click e guadagni mensili.">
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="assets/css/style.css"/>
<meta property="og:title" content="Area affiliati – Travirae"/>
<meta property="og:description" content="Dashboard affiliati Travirae: tracking link, click e guadagni mensili."/>
<meta property="og:image" content="assets/img/common/hero.jpg"/>
<meta name="twitter:image" content="assets/img/common/hero.jpg"/>
</head>
<body class="page--affiliate-portal">
<header class="site-header">
<div class="container header-inner">
<a class="brand" href="index.html" aria-label="Travirae Home">
<img src="assets/img/common/plane-logo.png" alt="Travirae" style="height:28px"/>
<span>Travirae</span>
</a>
<nav class="main-nav" aria-label="Navigazione principale">
<a class="nav-link" href="index.html">Hotel</a>
<a class="nav-link" href="flights.html">Voli</a>
<a class="nav-link" href="programma-affiliato.html">Programma affiliato</a>
</nav>
<button class="nav-toggle" aria-label="Apri menu" aria-expanded="false">
<span></span><span></span><span></span>
</button>
</div>
</header>
<main>
<section class="section">
<div class="container affiliate-portal-grid">
<div class="affiliate-intro">
<p class="muted small" style="margin:0 0 6px;">Programma Affiliato Travirae</p>
<h1>Area affiliati</h1>
<p class="subtitle">Gestisci il tuo Affiliate ID, genera link tracciati e controlla le performance mensili.</p>
<ul class="benefits-list">
<li>Ottieni un <strong>Affiliate ID univoco</strong> collegato al tuo account Supabase.</li>
<li>Condividi l'home page, le pagine hotel o voli usando il parametro <code>?ref=ID</code>.</li>
<li>Monitora <strong>click, vendite valide e guadagni mensili</strong> direttamente dalla dashboard.</li>
</ul>
<p class="muted small">Le statistiche si basano sulle tabelle <code>affiliate_clicks</code>, <code>bookings</code> e <code>monthly_affiliate_payouts</code> presenti su Supabase. Lo schema non viene modificato dal frontend.</p>
</div>
<div>
<div class="auth-card" id="affiliate-auth-card">
<div class="auth-card-header">
<h2 class="auth-card-title">Accedi o registrati</h2>
<p class="auth-card-subtitle">Entra nell'Area Affiliati per ottenere il tuo link tracciato e vedere le statistiche.</p>
</div>
<div class="auth-tabs" role="tablist">
<button type="button" class="auth-tab is-active" data-auth-tab="login">Accedi</button>
<button type="button" class="auth-tab" data-auth-tab="register">Registrati</button>
</div>
<div class="auth-views">
<div class="auth-view auth-view-login" data-view="login">
<form id="affiliate-login-form" class="auth-form" autocomplete="on">
<div class="form-group">
<label for="login-email">Email</label>
<input id="login-email" name="email" type="email" required/>
</div>
<div class="form-group">
<label for="login-password">Password</label>
<input id="login-password" name="password" type="password" required/>
</div>
<div class="auth-actions">
<button type="submit" class="btn">Accedi</button>
<button type="button" class="auth-link" id="affiliate-forgot-link">Password dimenticata?</button>
</div>
</form>
</div>
<div class="auth-view auth-view-register" data-view="register" hidden>
<form id="affiliate-register-form" class="auth-form" autocomplete="on">
<div class="form-group">
<label for="register-email">Email</label>
<input id="register-email" name="email" type="email" required/>
</div>
<div class="form-group">
<label for="register-password">Password</label>
<input id="register-password" name="password" type="password" required/>
</div>
<div class="form-group">
<label for="register-password-confirm">Conferma password</label>
<input id="register-password-confirm" name="password_confirm" type="password" required/>
</div>
<div class="auth-actions">
<button type="submit" class="btn">Crea account</button>
</div>
</form>
</div>
<div class="auth-view auth-view-forgot" data-view="forgot" hidden>
<form id="affiliate-forgot-form" class="auth-form">
<div class="form-group">
<label for="forgot-email">Email</label>
<input id="forgot-email" name="email" type="email" required/>
</div>
<div class="auth-actions">
<button type="submit" class="btn">Invia link reset</button>
<button type="button" class="auth-link" data-back-to="login">Torna al login</button>
</div>
</form>
</div>
<div class="auth-view auth-view-recovery" data-view="recovery" hidden>
<form id="affiliate-recovery-form" class="auth-form">
<p class="muted small">Hai aperto il link di ripristino password. Imposta di seguito una nuova password per il tuo account.</p>
<div class="form-group">
<label for="recovery-password">Nuova password</label>
<input id="recovery-password" name="password" type="password" required/>
</div>
<div class="form-group">
<label for="recovery-password-confirm">Conferma nuova password</label>
<input id="recovery-password-confirm" name="password_confirm" type="password" required/>
</div>
<div class="auth-actions">
<button type="submit" class="btn">Aggiorna password</button>
</div>
</form>
</div>
<div class="auth-view auth-view-dashboard" data-view="dashboard" hidden>
<div class="auth-card-header">
<h2 class="auth-card-title">Dashboard affiliato</h2>
<p class="auth-card-subtitle">Gestisci il tuo Affiliate ID e le performance del programma.</p>
</div>
<div class="affiliate-id-block">
<div class="muted small">Il tuo Affiliate ID</div>
<div class="affiliate-id-row">
<code id="affiliate-slug"></code>
</div>
<div class="affiliate-link-row">
<label for="affiliate-link-input" class="muted small">Link principale da condividere</label>
<div class="affiliate-link-input-row">
<input id="affiliate-link-input" type="text" readonly/>
<button type="button" class="btn" id="affiliate-copy-btn">Copia</button>
</div>
</div>
</div>
<div class="affiliate-stats-grid">
<div class="stat-card">
<div class="stat-label">Click totali</div>
<div class="stat-value" id="affiliate-stat-clicks">—</div>
</div>
<div class="stat-card">
<div class="stat-label">Guadagno totale</div>
<div class="stat-value" id="affiliate-stat-total">—</div>
</div>
<div class="stat-card">
<div class="stat-label">Guadagno mese corrente</div>
<div class="stat-value" id="affiliate-stat-month">—</div>
</div>
</div>
<div class="affiliate-chart-card">
<h3>Guadagni mensili</h3>
<div style="height:220px;">
<canvas id="affiliate-payouts-chart" aria-label="Grafico guadagni mensili affiliato"></canvas>
</div>
</div>
<div class="affiliate-table-card">
<h3>Storico payout mensili</h3>
<table class="table affiliate-payouts-table">
<thead>
<tr>
<th>Mese</th>
<th>Vendite valide</th>
<th>Commissioni nette</th>
<th>Revenue share</th>
<th>Guadagno per te</th>
</tr>
</thead>
<tbody id="affiliate-payouts-table-body">
<tr><td colspan="5" class="muted small">Nessun payout registrato finora.</td></tr>
</tbody>
</table>
</div>
<div class="affiliate-dashboard-actions">
<button type="button" class="btn" id="affiliate-logout-btn">Esci</button>
</div>
</div>
</div>
<div id="affiliate-auth-message" class="auth-message" aria-live="polite"></div>
</div>
</div>
</section>
</main>
<footer class="mega-footer">
<div class="container mf-grid">
<div class="mf-brand">
<div class="brand big">
<img src="assets/img/common/plane-logo.png" alt="Travirae" style="height:28px"/>
<span>Travirae</span>
</div>
<p class="muted">La tua piattaforma di ispirazione e prenotazione hotel con mappa interattiva.</p>
<div class="mf-socials">
  <a class="social social--icon" href="https://www.instagram.com/travirae.official/" aria-label="Instagram" target="_blank" rel="noopener">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="" loading="lazy"/>
  </a>
  <a class="social social--icon" href="https://www.facebook.com/profile.php?id=615587037940606" aria-label="Facebook" target="_blank" rel="noopener">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="" loading="lazy"/>
  </a>
  <a class="social social--icon" href="https://www.tiktok.com/@travirae?lang=en" aria-label="TikTok" target="_blank" rel="noopener">
    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a6/Tiktok_icon.svg" alt="" loading="lazy"/>
  </a>
  <a class="social social--icon" href="https://www.youtube.com/channel/UCgGtp3qTHUzMPqjpT8EnRbQ" aria-label="YouTube" target="_blank" rel="noopener">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg" alt="" loading="lazy"/>
  </a>
</div>
</div>
<nav class="mf-links">
<h4>Esplora</h4>
<ul>
<li><a href="index.html">Hotel</a></li>
<li><a href="flights.html">Voli</a></li>
<li><a href="programma-affiliato.html">Programma affiliato</a></li>
</ul>
</nav>
<nav class="mf-services">
<h4>Servizi</h4>
<ul>
<li><a href="flights.html">Voli</a></li>
<li><a href="index.html">Hotel</a></li>
<li><a href="programma-affiliato.html">Programma affiliato</a></li>
</ul>
</nav>
<div class="mf-contact">
<h4>Resta in contatto</h4>
<ul class="contact-list">
<li>✉️ info@travirae.example</li>
<li>Iscriviti alla nostra newsletter</li>
</ul>
<form class="newsletter-form wide" name="newsletter" method="POST" data-netlify="true">
<input type="email" name="email" aria-label="Email per newsletter" placeholder="La tua email" required/>
<button class="btn" type="submit">Iscriviti</button>
</form>
</div>
</div>
<div class="container mf-bottom muted small">
<div>© <span id="year-copy"></span> Travirae · Tutti i diritti riservati</div>
<div class="mf-legal">
<a href="privacy.html">Privacy</a> · <a href="termini.html">Termini</a> · <a href="cookie.html">Cookie</a>
</div>
</div>
</footer>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = 'https://qihaslaxdfwounujpeuf.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpaGFzbGF4ZGZ3b3VudWpwZXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMzE5MTMsImV4cCI6MjA4MDYwNzkxM30.scqVi4SjN76Oqr3FVtHt5OZWcn8Zh7LyTgU-H4bNEdo';
window.supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/affiliate-portal.js"></script>
</body>
</html>
