
<!DOCTYPE html>

<html lang="zh">
<head>
<link href="assets/img/common/plane-logo.png" rel="icon" type="image/png"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>联盟后台 – Travirae 联盟计划</title>
<meta content="登录 Travirae 联盟后台，管理你的联盟 ID，生成带追踪的链接，并查看点击、导流点击与月度收益。" name="description"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="assets/css/style.css" rel="stylesheet"/>
<script id="travirae-lang-router">(function(){
  try{
    var key='travirae_email_lang';
    var lang='';
    try{ lang=String(localStorage.getItem(key)||'').toUpperCase(); }catch(e){}
    if(!lang) return;

    var map={ DEU:'de', ENG:'en', FRA:'fr', SPA:'es', RUS:'ru', ARA:'ar', NLD:'nl', ZHO:'zh' };
    var suf=map[lang];
    if(!suf) return;

    var u=new URL(window.location.href);
    var path=u.pathname||'';
    var file=path.split('/').pop()||'';
    var dir=path.slice(0, path.length - file.length);
    if(!file) file='index.html';

    // If already on the correct language page, do nothing
    var reTarget=new RegExp('-'+suf+'\\.html$','i');
    if(reTarget.test(file)) return;

    // Only handle .html pages
    if(!/\\.html$/i.test(file)) return;

    // Strip any other supported suffix, then append the requested one
    var target=file.replace(/-(de|en|fr|es|ru|ar|nl|zh)\\.html$/i,'.html').replace(/\\.html$/i,'-'+suf+'.html');
    u.pathname = dir + target;
    window.location.replace(u.toString());
  }catch(e){}
})();</script>
</head>
<body class="page--affiliate-portal">
<header class="site-header">
<div class="container header-inner">
<a aria-label="Travirae 首页" class="brand" href="index.html">
<img alt="Travirae" src="assets/img/common/plane-logo.png" style="height:28px"/>
<span>Travirae</span>
</a>
<nav aria-label="主导航" class="main-nav">
<a class="nav-link" href="index.html">酒店</a>
<a class="nav-link" href="flights.html">航班</a>
<a class="nav-link active" href="programma-affiliato.html">联盟计划</a>
</nav>
<button aria-expanded="false" aria-label="打开菜单" class="nav-toggle"><span></span><span></span><span></span></button>
</div>
</header>
<main>
<section class="section">
<div class="container affiliate-portal-grid">
<div class="affiliate-intro">
<p class="muted small" style="margin:0 0 6px;">Travirae 联盟计划</p>
<h1>联盟后台</h1>
<p class="subtitle">管理你的联盟 ID，生成带追踪的链接，并查看点击、导流点击与月度收益。</p>
<ul class="benefits-list">
<li>获得与你账户绑定的<strong>唯一联盟 ID</strong>。</li>
<li>分享酒店或航班页面时使用参数 <code>?ref=YOUR_ID</code>。</li>
<li>在仪表盘中直接查看<strong>点击、导流点击与月度收益</strong>。</li>
</ul></div>
<div>
<div class="auth-card">
<div class="auth-card-header" id="auth-card-header-main">
<h2 class="auth-card-title">登录或注册</h2>
<p class="auth-card-subtitle">登录联盟后台以获取你的追踪链接并查看统计数据。</p>
</div>
<div class="auth-tabs" role="tablist">
<button class="auth-tab is-active" data-auth-tab="login" type="button">登录</button>
<button class="auth-tab" data-auth-tab="register" type="button">注册</button>
</div>
<div class="auth-views">
<!-- LOGIN -->
<div class="auth-view auth-view-login" data-view="login">
<form autocomplete="on" class="auth-form" id="affiliate-login-form">
<div class="form-group">
<label for="login-email">邮箱</label>
<input autocomplete="email" id="login-email" name="email" required="" type="email"/>
</div>
<div class="form-group">
<label for="login-password">密码</label>
<input autocomplete="current-password" id="login-password" name="password" required="" type="password"/>
</div>
<!-- La lingua email viene scelta dal selettore lingua del sito (in alto). -->
<div class="checkbox-row" style="margin-top:8px;">
<input checked="" id="login-remember" name="remember" type="checkbox"/>
<label for="login-remember">记住我</label>
</div>
<button class="auth-link auth-link--forgot" id="affiliate-forgot-link" type="button">忘记密码？</button>
<div class="auth-actions">
<button class="btn" type="submit">登录</button>
</div>
</form>
</div>
<!-- REGISTRAZIONE -->
<div class="auth-view auth-view-register" data-view="register" hidden="">
<form autocomplete="on" class="auth-form" id="affiliate-register-form">
<div class="form-group">
<label for="register-email">邮箱</label>
<input autocomplete="email" id="register-email" name="email" required="" type="email"/>
</div>
<div class="form-group">
<label for="register-password">密码</label>
<input autocomplete="new-password" id="register-password" name="password" required="" type="password"/>
</div>
<div class="form-group">
<label for="register-password-confirm">确认密码</label>
<input autocomplete="new-password" id="register-password-confirm" name="password_confirm" required="" type="password"/>
</div>
<!-- Lingua email: ora viene presa dal selettore lingua del sito (in alto) -->
<div class="auth-actions">
<button class="btn" type="submit">注册</button>
</div>
</form>
</div>
<!-- FORGOT PASSWORD -->
<div class="auth-view auth-view-forgot" data-view="forgot" hidden="">
<form class="auth-form" id="affiliate-forgot-form">
<div class="form-group">
<label for="forgot-email">Email</label>
<input id="forgot-email" name="email" required="" type="email"/>
</div>
<!-- Lingua email: ora viene presa dal selettore lingua del sito (in alto) -->
<div class="auth-actions">
<button class="btn" type="submit">发送重置链接</button>
<button class="auth-link" data-back-to="login" type="button">Back to log in</button>
</div>
</form>
</div>
<!-- RECOVERY -->
<div class="auth-view auth-view-recovery" data-view="recovery" hidden="">
<form class="auth-form" id="affiliate-recovery-form">
<p class="muted small">You've opened a password reset link. Set a new password for your account below.</p>
<div class="form-group">
<label for="recovery-password">New password</label>
<input id="recovery-password" name="password" required="" type="password"/>
</div>
<div class="form-group">
<label for="recovery-password-confirm">Confirm new password</label>
<input id="recovery-password-confirm" name="password_confirm" required="" type="password"/>
</div>
<div class="auth-actions">
<button class="btn" type="submit">Update password</button>
</div>
</form>
</div>
<!-- DASHBOARD -->
<div class="auth-view auth-view-dashboard" data-view="dashboard" hidden="">
<div class="auth-card-header">
<h2 class="auth-card-title">Affiliate dashboard</h2>
<p class="auth-card-subtitle">Manage your Affiliate ID, clicks, booking clicks and earnings.</p>
</div>
<div class="affiliate-id-block">
<div class="muted small">你的联盟 ID</div>
<code id="affiliate-slug"></code>
<div class="affiliate-link-row">
<label class="muted small" for="affiliate-link-input">Main link to share</label>
<div class="affiliate-link-input-row">
<input id="affiliate-link-input" readonly="" type="text"/>
<button class="btn" id="affiliate-copy-btn" type="button">Copy</button>
</div>
</div>
</div>
<div class="affiliate-stats-grid">
<div class="stat-card">
<div class="stat-label">Total clicks</div>
<div class="stat-value" id="affiliate-stat-clicks">—</div>
</div>
<div class="stat-card">
<div class="stat-label">Total booking clicks</div>
<div class="stat-value" id="affiliate-stat-bookings">—</div>
</div>
<div class="stat-card">
<div class="stat-label">总收益</div>
<div class="stat-value" id="affiliate-stat-total">—</div>
</div>
<div class="stat-card">
<div class="stat-label">Earnings this month</div>
<div class="stat-value" id="affiliate-stat-month">—</div>
</div>
</div>
<div class="affiliate-tier-card">
<div class="tier-top">
<h3 style="margin:0;">Current revenue share</h3>
<span class="badge" id="affiliate-share-percent">—</span>
</div>
<p class="muted small" id="affiliate-tier-subtitle" style="margin:6px 0 10px;">Based on valid sales for the current month.</p>
<div aria-label="分成比例 progress" class="progress">
<div class="progress-bar" id="affiliate-tier-progress" style="width:0%"></div>
</div>
<div class="tier-foot muted small" style="display:flex;justify-content:space-between;gap:12px;margin-top:8px;flex-wrap:wrap;">
<span>Valid sales this month: <strong id="affiliate-tier-sales">0</strong></span>
<span id="affiliate-tier-next">—</span>
</div>
</div>
<div class="affiliate-payout-card">
<h3 style="margin-top:0;">Payouts</h3>
<p class="muted small" style="margin-top:4px;">Minimum payout: <strong>50 USD</strong>. Requests are sent to the admin and processed manually.</p>
<div class="payout-balance-box">
<div class="muted small">可提现余额</div>
<div class="stat-value" id="affiliate-available-balance">—</div>
</div>
<div class="payout-actions">
<button class="btn" id="affiliate-open-payout-form-btn" type="button">申请提现</button>
</div>
<div hidden="" id="affiliate-payout-form-wrap">
<form autocomplete="on" class="auth-form" id="affiliate-payout-form">
<div class="form-row-2">
<div class="form-group">
<label for="payout-amount">金额 (USD)</label>
<input id="payout-amount" min="50" name="amount" required="" step="0.01" type="number"/>
</div>
<div class="form-group">
<label for="payout-method">方式</label>
<select id="payout-method" name="method" required="">
<option value="paypal">PayPal</option>
<option value="bank">SEPA/SWIFT bank transfer</option>
</select>
</div>
</div>
<div id="payout-method-paypal">
<div class="form-group">
<label for="payout-paypal-email">PayPal 邮箱</label>
<input id="payout-paypal-email" name="paypal_email" placeholder="name@example.com" type="email"/>
</div>
</div>
<div hidden="" id="payout-method-bank">
<div class="form-row-2">
<div class="form-group">
<label for="payout-beneficiary-name">Account holder</label>
<input id="payout-beneficiary-name" name="beneficiary_name" placeholder="Full name / Company name" type="text"/>
</div>
<div class="form-group">
<label for="payout-bank-country">Bank country</label>
<input id="payout-bank-country" name="bank_country" placeholder="e.g. GB, IT, DE, US" type="text"/>
</div>
</div>
<div class="form-row-2">
<div class="form-group">
<label for="payout-iban">IBAN (SEPA)</label>
<input id="payout-iban" name="iban" placeholder="IT60X0542811101000000123456" type="text"/>
</div>
<div class="form-group">
<label for="payout-swift">SWIFT/BIC (se serve)</label>
<input id="payout-swift" name="swift_bic" placeholder="UNCRITMMXXX" type="text"/>
</div>
</div>
<div class="form-group">
<label for="payout-bank-name">Bank name (optional)</label>
<input id="payout-bank-name" name="bank_name" type="text"/>
</div>
<div class="form-group">
<label for="payout-bank-address">Bank address (optional)</label>
<input id="payout-bank-address" name="bank_address" type="text"/>
</div>
</div>
<div class="divider-line"></div>
<h4 style="margin:0 0 6px;">Tax details (for international compliance)</h4>
<p class="muted small" style="margin:0 0 10px;">Used to identify the payout beneficiary and handle any KYC / anti-fraud checks.</p>
<div class="form-row-2">
<div class="form-group">
<label for="payout-legal-name">Legal name / Company name</label>
<input id="payout-legal-name" name="legal_name" required="" type="text"/>
</div>
<div class="form-group">
<label for="payout-subject-type">Entity type</label>
<select id="payout-subject-type" name="subject_type" required="">
<option value="individual">Individual</option>
<option value="company">Company / Self-employed</option>
</select>
</div>
</div>
<div class="form-row-2">
<div class="form-group">
<label for="payout-tax-country">Tax residence country</label>
<input id="payout-tax-country" name="tax_residence_country" placeholder="e.g. GB" required="" type="text"/>
</div>
<div class="form-group">
<label for="payout-tax-id">Tax ID / VAT number (if available)</label>
<input id="payout-tax-id" name="tax_id" placeholder="Optional but recommended" type="text"/>
</div>
</div>
<div class="form-row-2">
<div class="form-group">
<label for="payout-address-country">Country (address)</label>
<input id="payout-address-country" name="address_country" placeholder="e.g. GB" required="" type="text"/>
</div>
<div class="form-group">
<label for="payout-address-city">City</label>
<input id="payout-address-city" name="address_city" required="" type="text"/>
</div>
</div>
<div class="form-group">
<label class="checkbox-row">
<input id="payout-remember" name="remember" type="checkbox"/>
<span>Remember for future payouts (save details in your profile)</span>
</label>
</div>
<div class="form-group">
<label class="checkbox-row">
<input id="payout-confirm" name="confirm" required="" type="checkbox"/>
<span>I confirm the details provided are correct and that I am the beneficiary of the funds.</span>
</label>
</div>
<div class="auth-actions" style="justify-content:flex-start;">
<button class="btn" type="submit">Submit request</button>
<button class="btn secondary" id="affiliate-cancel-payout-form-btn" type="button">取消</button>
</div>
</form>
</div>
<div class="affiliate-table-card" style="margin-top:12px;">
<h3 style="margin-top:0;">Payout request history</h3>
<div class="table-wrapper">
<table class="table affiliate-payouts-table">
<thead>
<tr>
<th>日期</th>
<th>金额</th>
<th>方式</th>
<th>状态</th>
</tr>
</thead>
<tbody id="affiliate-payout-requests-tbody">
<tr><td class="muted small" colspan="4">No requests submitted yet.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="affiliate-chart-card">
<h3>Monthly earnings</h3>
<div style="height:220px;">
<canvas aria-label="Affiliate monthly earnings chart" id="affiliate-payouts-chart"></canvas>
</div>
</div>
<div class="affiliate-table-card">
<h3>Monthly payouts history</h3>
<table class="table affiliate-payouts-table">
<thead>
<tr>
<th>Month</th>
<th>Valid sales</th>
<th>Net commissions</th>
<th>分成比例</th>
<th>Your earnings</th>
</tr>
</thead>
<tbody id="affiliate-payouts-table-body">
<tr><td class="muted small" colspan="5">No payouts recorded yet.</td></tr>
</tbody>
</table>
</div>
<div class="affiliate-dashboard-actions">
<button class="btn secondary" id="affiliate-2fa-btn" type="button">安全（2FA）</button>
<button class="btn secondary" id="affiliate-change-lang-btn" type="button">切换语言</button>
<button class="btn" id="affiliate-logout-btn" type="button">退出登录</button>
</div>
</div>
</div>
<div aria-live="polite" class="auth-message" id="affiliate-auth-message"></div>
</div>
</div>
</div>
</section>
</main>
<footer class="mega-footer">
<div class="container mf-grid">
<div class="mf-brand">
<div class="brand big">
<img alt="Travirae" src="assets/img/common/plane-logo.png" style="height:28px"/>
<span>Travirae</span>
</div>
<p class="muted">通过互动地图获取旅行灵感并预订酒店的一站式平台。</p>
<div class="mf-socials">
<a aria-label="Instagram" class="social social--icon" href="https://www.instagram.com/travirae_official/" rel="noopener" target="_blank">
<img alt="" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg"/>
</a>
<a aria-label="Facebook" class="social social--icon" href="https://www.facebook.com/profile.php?id=61573037940606" rel="noopener" target="_blank">
<img alt="" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg"/>
</a>
<a aria-label="TikTok" class="social social--icon" href="https://www.tiktok.com/@travirae?lang=en" rel="noopener" target="_blank">
<img alt="" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/a/a6/Tiktok_icon.svg"/>
</a>
<a aria-label="YouTube" class="social social--icon" href="https://www.youtube.com/channel/UCgGtp3qTHUzMPqjpT8EnRbQ" rel="noopener" target="_blank">
<img alt="" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg"/>
</a>
</div>
</div>
<nav class="mf-services"><h4>服务</h4><ul>
<li><a href="flights.html">航班</a></li>
<li><a href="index.html">酒店</a></li>
<li><a href="programma-affiliato.html">联盟计划</a></li>
</ul></nav>
<div class="mf-contact">
<h4>保持联系</h4>
<ul class="contact-list">
<li>✉️ info@travirae.com</li>
<li>订阅我们的 Newsletter</li>
</ul>
<!-- Newsletter (gestita via Supabase Edge Function).
     Usiamo method="get" e un id fisso per evitare submit POST (405) se JS non è caricato. -->
<form action="#" class="newsletter-form wide" id="newsletter-form" method="get">
<input aria-label="Newsletter 邮箱" name="newsletter_email" placeholder="你的邮箱" required="" type="email"/>
<button class="btn" type="submit">订阅</button>
</form>
</div>
</div>
<div class="container mf-bottom muted small">
<div>© <span id="year-copy"></span> Travirae · 保留所有权利</div>
<div class="mf-legal">
<a href="privacy.html">隐私政策</a> · <a href="termini.html">使用条款</a> · <a href="cookie.html">Cookie 政策</a>
</div>
</div>
</footer>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="assets/js/config.js"></script>
<script src="assets/js/supabase-init.js"></script>
<script src="assets/js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="assets/js/affiliate-area-zh.js"></script>
</body>
</html>
