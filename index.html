<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Stay22 - Mappa</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
      }
      /* Fullscreen iframe */
      #stay22-widget {
        width: 100%;
        height: 100vh;
        border: 0;
        display: block;
      }
    </style>
  </head>
  <body>
    <!-- NOTE: Embed ID MUST stay the same to preserve tracking/association -->
    <iframe
      id="stay22-widget"
      width="100%"
      height="428"
      src="https://www.stay22.com/embed/68e0453924ecc1f8e80860e1"
      frameborder="0"
      loading="lazy"
    ></iframe>

    <script>
      (function () {
        const iframe = document.getElementById("stay22-widget");

        // Base Stay22 embed (DO NOT change the embed ID after /embed/)
        const base = "https://www.stay22.com/embed/68e0453924ecc1f8e80860e1";

        // Read optional campaign from the *page* URL (e.g. ?campaign=affiliate_slug)
        const pageUrl = new URL(window.location.href);

        // Build the iframe URL safely
        const u = new URL(base);

        // Force the destination field/title to show as empty.
        // We use a ZERO-WIDTH SPACE so the parameter is non-empty but visually blank.
        // This avoids showing a default location string like "Dubai - ..."
        u.searchParams.set("venue", "\u200B");

        // Keep optional sub-tracking if present
        const campaign = pageUrl.searchParams.get("campaign");
        if (campaign) u.searchParams.set("campaign", campaign);

        // Apply
        iframe.src = u.toString();
      })();
    </script>
  </body>
</html>
